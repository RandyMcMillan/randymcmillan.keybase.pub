


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Issued Assets &mdash; R A N D Y M c M I L L A N</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
  
    <link rel="stylesheet" href="../../_static/jquery.fancybox.min.css" type="text/css" />
  
    <link rel="stylesheet" href="../../_static/glpi.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="R A N D Y M c M I L L A N" href="../../index.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html">
          

          
            
            
            <img src="../../_static/images/glpi.png" class="logo" />
          
          </a>

          
            
              <div class="version">
                656062.1604892201

                
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">twitter.com</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://twitter.com/randymcmillan">/randymcmillan</a></li>
</ul>
<p class="caption"><span class="caption-text">keybase.io</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://keybase.io/randymcmillan">/randymcmillan</a></li>
<li class="toctree-l1"><a class="reference external" href="https://keybase.io/team/bitcoincore">/bitcoincore</a></li>
<li class="toctree-l1"><a class="reference external" href="https://keybase.io/team/bitcoinand">/bitcoinAnd</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html"></a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
      <li>Issued Assets</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="issued-assets">
<h1>Issued Assets<a class="headerlink" href="#issued-assets" title="Permalink to this headline">¶</a></h1>
<p>In this example we’ll issue our own asset, label it, look at the re-issuance token, and learn how to send the asset to other other Liquid nodes and wallet addresses. We’ll also take a look at how to keep track of what assets have been issued and re-issued.</p>
<p>First, let’s take a look at Alice’s wallet to see what it currently holds.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Alice:~$ elements-cli getwalletinfo
</pre></div>
</div>
<p>We see that Alice holds a lot of the “bitcoin” asset and nothing else:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&quot;balance&quot;: {
  &quot;bitcoin&quot;: 101.00000000
}
</pre></div>
</div>
<p>Every asset you issue within Liquid (including the “bitcoin” default) will be assigned its own hex value. This is used to uniquely identify it on the network. Notice how “bitcoin” is displayed with a readable asset name. This is because Liquid automatically associates the label “bitcoin” with the asset hex for that default asset. To find out its hex value we can run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Alice:~$ elements-cli dumpassetlabels
</pre></div>
</div>
<p>Which returns:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&quot;bitcoin&quot;: &quot;cc5fb67403bee3b9a74e7518b7684d6cb64041e4156970a17aa653ee336b1097&quot;
</pre></div>
</div>
<p>One of the main features of Liquid is the ability to issue your own assets.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>There is nothing inherently different between assets in the way they are handled within the Liquid protocol.</p>
</div>
<p>Run the following to perform a blinded issuance of 100 of a new asset, along with 1 reissuance token for the asset.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Alice:~$ <span class="nv">ISSUE</span><span class="o">=</span><span class="k">$(</span>elements-cli issueasset <span class="m">100</span> <span class="m">1</span><span class="k">)</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>To manually issue an asset using the rawissueasset command, please see the Creating Raw Issuances example. Additionally, the Proof of Issuance example shows how to prove that you were the one who issued the asset using the “contract hash” parameter.</p>
</div>
<p>That will create a new asset type, an initial supply of 100 and also 1 reissuance token. The reissuance token is used to prove authority to reissue more of the asset at a later date. We have issued one such token in the command above. The token is transferable and you can initially create as many as you think you will need based upon how many of the network participants will need to perform this duty. Each asset has its own reissuance token. We’ll look at this in more detail later. It is also possibly to create an asset with no reissuance tokens by using zero for that argument.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The minimum amount of an asset you can issue is 0.00000001. This is also the smallest amount of any issued asset that you can send. The minimum amount of the default asset that you can send (L-BTC) is higher, at 0.00001. These differ as the default asset considers the minimum send amount of the Bitcoin network’s dust limit. The maximum amount of an asset you can issue is 21,000,000 although more can be created by reissuing. When you create the reissuance token as above, where the amount was 1, you are actually creating 100,000,000 of them when measured in their smallest denomination. This is because they are divisible like every other asset on Liquid. The 1 is little more than a user interface concession. For ease of readability we will refer to this issuance as “one token”.</p>
</div>
<p>We have stored all of the returned data from the issuance command in a variable named “ISSUE”, which we’ll pull the hex of the new asset from, storing that value in another variable named “ASSET”. We’ll also store the “token” value (which we’ll explain and use later) and the “txid” and “vin” of the issuance, which will be used when we try and unblind the issuing transaction shortly.</p>
<p>In order to do this we can use a tool called <a class="reference external" href="https://stedolan.github.io/jq/">jq</a> (which we installed as part of the tutorial dependencies) to strip out and store only the parts returned and saved within “ISSUE” that we are interested in:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Alice:~$ <span class="nv">ASSET</span><span class="o">=</span><span class="k">$(</span><span class="nb">echo</span> <span class="nv">$ISSUE</span> <span class="p">|</span> jq <span class="s1">&#39;.asset&#39;</span> <span class="p">|</span> tr -d <span class="s1">&#39;&quot;&#39;</span><span class="k">)</span>
Alice:~$ <span class="nv">TOKEN</span><span class="o">=</span><span class="k">$(</span><span class="nb">echo</span> <span class="nv">$ISSUE</span> <span class="p">|</span> jq <span class="s1">&#39;.token&#39;</span> <span class="p">|</span> tr -d <span class="s1">&#39;&quot;&#39;</span><span class="k">)</span>
Alice:~$ <span class="nv">ITXID</span><span class="o">=</span><span class="k">$(</span><span class="nb">echo</span> <span class="nv">$ISSUE</span> <span class="p">|</span> jq <span class="s1">&#39;.txid&#39;</span> <span class="p">|</span> tr -d <span class="s1">&#39;&quot;&#39;</span><span class="k">)</span>
Alice:~$ <span class="nv">IVIN</span><span class="o">=</span><span class="k">$(</span><span class="nb">echo</span> <span class="nv">$ISSUE</span> <span class="p">|</span> jq <span class="s1">&#39;.vin&#39;</span> <span class="p">|</span> tr -d <span class="s1">&#39;&quot;&#39;</span><span class="k">)</span>
</pre></div>
</div>
<p>To see the hex identifier for the asset we issued run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Alice:~$ <span class="nb">echo</span> <span class="nv">$ASSET</span>
</pre></div>
</div>
<p>Which will return something like this:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>f0379482f9b77917670be0f060cc58debc6d93db0bf857458d5fb19080c8ab67
</pre></div>
</div>
<p>In order to view all asset issuances that have been made we run the “listissuances” command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Alice:~$ elements-cli listissuances
</pre></div>
</div>
<p>That will show the asset we just issued. You’ll notice tha it has the following property:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&quot;isreissuance&quot;: false,
</pre></div>
</div>
<p>This indicates that it was an original issuance and not a reissuances. You’ll also see that the newly issued asset does not have an “assetlabel”.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Asset labels are not part of network protocol consensus and are local only to each node. You should not rely on them for transaction processing but instead use the asset’s hex value, which is shared across the network.</p>
</div>
<p>You can set the label by assigning it against the hex identifier of the asset. This can be done in the relevant Liquid.conf file by adding a line:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>assetdir=asset_hex_here:your_label_here
</pre></div>
</div>
<p>Or you can do this by passing in “assetdir” as a parameter when you start the node. We’ll do this now and call our new asset “demoasset”. We need to stop the node first.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Alice:~$ elements-cli stop
Alice:~$ elementsd -assetdir<span class="o">=</span><span class="nv">$ASSET</span>:demoasset
Alice:~$ elements-cli listissuances
</pre></div>
</div>
<p>This shows that the asset we issued has the label we assigned to its hex value:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&quot;assetlabel&quot;: &quot;demoasset&quot;,
</pre></div>
</div>
<p>Having labelled our asset for ease of reference, we will now look at the issuance data for “demoasset” in more detail. You will notice a “token” property similar to that below:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&quot;token&quot;: &quot;33244cc19dd9df0fd901e27246e3413c8f6a560451e2f3721fb6f636791087c7&quot;,
</pre></div>
</div>
<p>This is the hex of the token and it can be used to reissue the asset. Yours will likely differ from the actual value above. There is also a “tokenamount” property which corresponds to the amount we created:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&quot;tokenamount&quot;: 1.00000000,
</pre></div>
</div>
<p>When the transaction has confirmed, we can take a look using Bob’s wallet to see if it is aware of Alice’s asset issuance:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Bob:~$ elements-cli listissuances
</pre></div>
</div>
<p>Bob’s wallet isn’t aware of the issuance, so we’ll import the address into his wallet.</p>
<p>In order to check Bob’s view of the issuance, we need Bob’s node to use the address used when Alice issued the asset. As that’s currently known to Alice’s node, we need to copy the information over to Bob’s node. This can be done by using echo to print the value within one terminal session, copying the value, and then setting it within the other node’s terminal session, like so:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Alice:~$ <span class="nv">IADDR</span><span class="o">=</span><span class="k">$(</span>elements-cli gettransaction <span class="nv">$ITXID</span> <span class="p">|</span> jq <span class="s1">&#39;.details[0].address&#39;</span> <span class="p">|</span> tr -d <span class="s1">&#39;&quot;&#39;</span><span class="k">)</span>
Alice:~$ <span class="nb">echo</span> <span class="nv">$IADDR</span>
</pre></div>
</div>
<p>Copy the result, which will be similar to:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>AzpkDFjr6nNm4nncoBHuZr5S2zH4wPEpTvU63M8jNuU7JMXAVb5rVNCYmLB3fTmP9kLGgTAdCTwrrndu
</pre></div>
</div>
<p>And then we can set a corresponding variable in Bob’s terminal session, similar to doing the following:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Bob:~$ <span class="nv">IADDR</span><span class="o">=</span>AzpkDFjr6nNm4nncoBHuZr5S2zH4wPEpTvU63M8jNuU7JMXAVb5rVNCYmLB3fTmP9kLGgTAdCTwrrndu
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You can use this technique whenever we need to use a variable set in one terminal session within another.</p>
</div>
<p>Bob can now import the address relating to Alice’s issuance:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Bob:~$ elements-cli importaddress <span class="nv">$IADDR</span>
</pre></div>
</div>
<p>If we try and view the list of issuances from Bob’s node now we’ll see the issuance, but notice that the amount of the asset and the amount of its associated token are hidden:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Bob:~$ elements-cli listissuances
</pre></div>
</div>
<p>The asset amount and the token amount are both blinded and show as -1:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&quot;tokenamount&quot;: -1,
&quot;assetamount&quot;: -1,
</pre></div>
</div>
<p>In the Confidential Transactions example, we were able to expose the amount and type of asset being sent in a regular Confidential Transaction by exporting the blinding key used to create the blinded address and importing it into another wallet. We can do the same type of thing with the issuance transaction using the issuance blinding key.</p>
<p>First, we need to export the issuance blinding key. We refer to issuances by their txid/vin pair. As there is only one per input it will be zero, but we’ll use the value we saved earlier as it is good practice to not rely on such things staying fixed. You will need to echo, copy and create the appropriate variables (ISSUEKEY, ITXID, IVIN) in Bob’s node as we did above for this to work (steps not shown).</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Alice:~$ <span class="nv">ISSUEKEY</span><span class="o">=</span><span class="k">$(</span>elements-cli dumpissuanceblindingkey <span class="nv">$ITXID</span> <span class="nv">$IVIN</span><span class="k">)</span>
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Bob:~$ elements-cli importissuanceblindingkey <span class="nv">$ITXID</span> <span class="nv">$IVIN</span> <span class="nv">$ISSUEKEY</span>
</pre></div>
</div>
<p>Now when we run the command to list known issuances from Bob’s wallet we should see the actual values:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Bob:~$ elements-cli listissuances
</pre></div>
</div>
<p>Which returns:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&quot;tokenamount&quot;: 1.00000000,
&quot;assetamount&quot;: 100.00000000,
</pre></div>
</div>
<p>Indeed, Bob’s wallet can now see both the amount of the asset and its reissuance token that were issued.</p>
<p>Just like any other asset in Liquid, we can send our “demoasset” from Alice’s address to Bob’s using the “sendtoaddress” command. This differs from its implementation in Bitcoin’s source code in that it accepts an additional parameter, which allows you to specify the type of asset to be sent. Be aware that the step above where we imported the issuance blinding key is not required in order to transact an issued asset between addresses and wallets. Importing the issuance blinding key just enables another wallet to view the issuance details in full.</p>
<p>You will need to echo, copy and create the appropriate variable (BOBDEMOADD) in Alice’s node as we did above for this to work (steps not shown).</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Bob:~$ <span class="nv">BOBDEMOADD</span><span class="o">=</span><span class="k">$(</span>elements-cli getnewaddress<span class="k">)</span>
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Alice:~$ elements-cli sendtoaddress <span class="nv">$BOBDEMOADD</span> <span class="m">10</span> <span class="s2">&quot;&quot;</span> <span class="s2">&quot;&quot;</span> <span class="nb">false</span> <span class="nb">false</span> <span class="m">1</span> UNSET demoasset
</pre></div>
</div>
<p>After confirmation, Bob’s wallet will now show an amount of 10 “demoasset” and Alice’s will show 90:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Bob:~$ elements-cli getwalletinfo
Alice:~$ elements-cli getwalletinfo
</pre></div>
</div>
<p>As we didn’t assign a label in Bob’s node for the asset we created, it will be identified by its hex value instead. We will therefore have to use the hex identifier instead of the asset label when we send it from his node. Remember that asset labels are local only to each node and are not part of the network’s protocol rules. We’ll demonstrate how Bob can send the asset using the hex value by transferring the 10 “demoasset” back to Alice:</p>
<p>You will need to echo, copy and create the appropriate variable (ALICEDEMOADD) in Bob’s node as we did above for this to work (steps not shown).</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Alice:~$ <span class="nv">ALICEDEMOADD</span><span class="o">=</span><span class="k">$(</span>elements-cli getnewaddress<span class="k">)</span>
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Bob:~$ elements-cli sendtoaddress <span class="nv">$ALICEDEMOADD</span> <span class="m">10</span> <span class="s2">&quot;&quot;</span> <span class="s2">&quot;&quot;</span> <span class="nb">false</span> <span class="nb">false</span> <span class="m">1</span> UNSET <span class="nv">$ASSET</span>
Bob:~$ <span class="nv">ADDRGEN</span><span class="o">=</span><span class="k">$(</span>elements-cli getnewaddress<span class="k">)</span>
Bob:~$ elements-cli generatetoaddress <span class="m">1</span> <span class="nv">$ADDRGEN</span>
</pre></div>
</div>
<p>We should see that Bob’s wallet has no “demoasset” in it anymore and Alice’s is back to 100:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Bob:~$ elements-cli getwalletinfo
Alice:~$ elements-cli getwalletinfo
</pre></div>
</div>
<p>We can see that is indeed the case.</p>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Randy McMillan.
      Last updated on 08Nov2020.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/language_data.js"></script>
      <script type="text/javascript" src="../../_static/jquery.fancybox.min.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
  <script type="text/javascript">
    $(function(){
      $('.image-reference').fancybox();
    })
  </script>

</body>
</html>